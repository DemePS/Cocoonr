{% extends 'reservations/base.html' %}

{% block title %}Liste des Réservations - Cocoonr{% endblock %}

{% block content %}
<div class="container">
    <!-- Bouton pour ajouter une nouvelle réservation -->
    <div class="action-buttons">
        <a href="{% url 'reservations:reservation-create' %}" class="btn btn-primary">
            <i class="fas fa-plus"></i>Nouvelle réservation
        </a>
    </div>

    <!-- Liste des réservations -->
    <h2 class="form-title">Liste des réservations</h2>
    <div class="grid">
        {% for reservation in reservations %}
        <div class="card">
            <div class="card-header">
                <h3 class="reservation-title">{{ reservation.nom_client }}</h3>
                <div class="reservation-details">
                    <p class="reservation-detail">
                        <i class="fas fa-home"></i>
                        {{ reservation.logement.nom }}
                    </p>
                    <p class="reservation-detail">
                        <i class="fas fa-users"></i>
                        Capacité : {{ reservation.logement.capacite }} personne{{ reservation.logement.capacite|pluralize }}
                    </p>
                </div>
                <div class="mt-4">
                    <div class="reservation-date">
                        <span>Arrivée</span>
                        <span class="date-value">{{ reservation.date_arrivee|date:"d/m/Y" }}</span>
                    </div>
                    <div class="reservation-date">
                        <span>Départ</span>
                        <span class="date-value">{{ reservation.date_depart|date:"d/m/Y" }}</span>
                    </div>
                    <div class="mt-4">
                        <span class="guest-count">
                            {{ reservation.nb_voyageurs }} personne{{ reservation.nb_voyageurs|pluralize }}
                        </span>
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="empty-state">
            <i class="fas fa-calendar-alt"></i>
            <p>Aucune réservation trouvée.</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
